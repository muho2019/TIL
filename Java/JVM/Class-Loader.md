# 클래스 로더

클래스 로더는 클래스 로딩 단계에서 '완전한 이름을 바탕으로 해당 클래스를 정의하는 바이너리 바이트 스트림을 가져오는' 작업을 수행하는 코드입니다.

## 독립적인 이름 공간

- 클래스 로더는 유일하지 않으며 각자 **독립적인 클래스 이름 공간**을 가집니다.
- 두 클래스의 동치성 판단은 **같은 클래스 로더로 로드했을 때만** 의미가 있습니다.
- 동일한 클래스라도 **서로 다른 클래스 로더**에서 로드하면 **다른 클래스**로 인식됩니다.

## 동치성 판단

- `equals()` 메서드
- `isAssignableFrom()` 메서드
- `isInstance()` 메서드
- `instanceof` 키워드

## 부모 위임 모델 (Parents Delegation Model)

### 클래스 로더의 분류

JVM 관점에서 클래스 로더는 두 종류로 나뉩니다.

1. **부트스트랩 클래스 로더**: JVM 자체의 일부
2. **기타 모든 클래스 로더**: `java.lang.ClassLoader`를 상속하여 자바로 구현되며, JVM 외부에 독립적으로 존재

### JDK 9 이전의 3계층 클래스 로더

1. 부트스트랩 클래스 로더

- **역할**: `JAVA_HOME/lib` 디렉터리나 `-Xbootclasspath` 매개변수로 지정한 경로의 파일들과 JVM이 인식하는 클래스 라이브러리 로드
- **특징**: 자바 프로그램에서 직접 참조 불가

2. 확장 클래스 로더 (`sun.misc.Launcher$ExtClassLoader`)

- **구현**: 자바로 구현
- **역할**: `JAVA_HOME/lib/ext` 디렉터리 또는 `java.ext.dirs` 시스템 변수로 지정한 경로의 클래스 라이브러리 로드
- **목적**: 자바 시스템의 클래스 라이브러리 확장 메커니즘
- **특징**: 개발자가 프로그램에서 직접 사용 가능

3. 애플리케이션 클래스 로더 (`sun.misc.Launcher$AppClassLoader`)

- **별칭**: 시스템 클래스 로더 (`getSystemClassLoader` 메서드가 반환하는 클래스 로더)
- **역할**: 클래스패스상의 클래스 라이브러리 로드
- **특징**: 개발자가 자바 코드에서 직접 사용 가능. 별도의 클래스 로더를 만들지 않은 경우 **기본 클래스 로더**가 됨
