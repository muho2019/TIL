`.dockerignore` 파일은 Docker 이미지를 빌드할 때 특정 파일이나 폴더를 무시하도록(제외하도록) 지시하는 설정 파일입니다.

가장 쉽게 비유하자면, 이삿짐을 쌀 때 작성하는 '가져가지 않을 물건 목록'과 같습니다.

`docker build` 명령을 실행하면, Docker는 먼저 현재 디렉토리의 모든 파일(빌드 컨텍스트)을 Docker 데몬으로 보냅니다. 이때 `.dockerignore` 파일에 적힌 목록은 이삿짐(빌드 컨텍스트)에 포함시키지 않고 아예 제외시켜 버립니다.

## 왜 사용해야 하나요? (매우 중요)

`.dockerignore` 파일을 사용하는 것은 선택이 아닌 필수에 가깝습니다. 사용하지 않으면 빌드 속도, 이미지 용량, 보안 등 여러 면에서 심각한 문제가 발생할 수 있습니다.

**1. 빌드 속도 향상**

Docker가 이미지를 빌드하기 전, 가장 먼저 하는 일은 빌드 컨텍스트 전체를 압축해서 Docker 데몬으로 전송하는 것입니다. 만약 `.dockerignore`가 없다면, 불필요한 `build` 폴더, `.gradle` 캐시, `.git` 폴더, `node_modules` 등 수백~수천 개의 파일이 모두 전송되어 이 과정에서 엄청난 시간이 소요됩니다. `.dockerignore`는 이 전송 용량을 극적으로 줄여 빌드 시작을 매우 빠르게 만듭니다.

**2. 이미지 용량 감소**

`Dockerfile`에서 `COPY . .`처럼 프로젝트 전체를 복사하는 명령어를 사용할 때, `.dockerignore`가 없으면 불필요한 파일들(IDE 설정, 빌드 결과물 등)이 이미지 안에 그대로 복사됩니다. 이는 최종 이미지의 용량을 불필요하게 늘리는 원인이 됩니다. 가볍고 효율적인 이미지를 만들기 위해 필수적입니다.

**3. 빌드 캐시 오염 방지**

Docker는 빌드 속도를 높이기 위해 캐싱 기능을 사용합니다. `COPY . .` 명령어는 빌드 컨텍스트에 있는 파일 중 하나라도 변경되면 캐시를 사용하지 않고 새로 빌드를 진행합니다. 만약 소스 코드와 아무 상관없는 로그 파일이나 IDE 설정 파일이 변경되었는데, 이것이 `.dockerignore`에 없다면 불필요하게 전체 빌드를 다시 하게 됩니다. `.dockerignore`는 소스 코드 변경과 같이 의미 있는 변화가 있을 때만 캐시를 무효화하도록 도와줍니다.

**4. 보안 강화**

가장 중요한 이유 중 하나입니다. 만약 `.env` 파일(DB 비밀번호 등), `.git` 폴더(소스 코드 전체 히스토리), 개인 키(`*.pem`, `*.cer`) 등이 실수로 이미지 안에 포함된다면, 이 이미지를 사용하는 누구나 민감 정보에 접근할 수 있게 되는 심각한 보안 사고로 이어질 수 있습니다. `.dockerignore`는 이러한 민감 파일들이 이미지에 포함될 가능성을 원천적으로 차단합니다.

## 사용법 및 예시

사용법은 `.gitignore`와 거의 동일합니다. 프로젝트 최상단 루트, 즉 빌드 컨텍스트의 루트에 `.dockerignore` 파일을 생성하고, 제외할 파일이나 폴더의 목록을 적으면 됩니다.

**[스프링 부트 멀티 모듈 프로젝트용 .dockerignore 예시]**

```
# .dockerignore

# Gradle 빌드 관련 파일
.gradle
build/
*/build/

# IDE 설정 파일
.idea/
*.iml
*.iws

# OS 생성 파일
.DS_Store
Thumbs.db

# 민감 정보 파일
.env

# Git 관련 폴더
.git
.gitignore

# 로그 파일
*.log
```

이 파일을 프로젝트 루트에 두면, `docker build` 시 위 목록에 해당하는 파일들은 빌드 과정에서 완전히 무시됩니다.
